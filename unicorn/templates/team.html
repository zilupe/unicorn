<h1>{{ team.name }}</h1>

<table>
    <tr>
        <td>Season</td>
        <td>
            <a href="season_{{ team.season.id }}.html">{{ team.season.name }}</a>
            ({{ team.season.first_week_date.strftime('%d/%m/%Y') }} - {{ team.season.last_week_date.strftime('%d/%m/%Y') }})
        </td>
    </tr>
    <tr>
        <td>Franchise</td>
        <td><a href="franchise_{{ team.franchise.id }}.html">{{ team.franchise.name }}</a></td>
    </tr>
    <tr>
        <td>Team Name</td>
        <td>{{ team.name }}</td>
    </tr>
    <tr>
        <td>Finals Position</td>
        <td>{{ team.fin_position }}</td>
    </tr>
    <tr>
        <td>Regular Season Position</td>
        <td>{{ team.reg_position }}</td>
    </tr>
</table>


<h2>Regular Season Summary</h2>

<table>
    <thead>
        <tr>
            <td>Rank</td>
            <td>Played</td>
            <td>Won</td>
            <td>Forfeits For</td>
            <td>Drawn</td>
            <td>Lost</td>
            <td>Forfeits Against</td>
            <td>For</td>
            <td>Against</td>
            <td>Difference</td>
            <td>Bonus Points</td>
            <td>Points</td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>{{ team.reg_position }}</td>
            <td>{{ team.reg_played }}</td>
            <td>{{ team.reg_won }}</td>
            <td>{{ team.reg_forfeits_for }}</td>
            <td>{{ team.reg_drawn }}</td>
            <td>{{ team.reg_lost }}</td>
            <td>{{ team.reg_forfeits_against }}</td>
            <td>{{ team.reg_score_for }}</td>
            <td>{{ team.reg_score_against }}</td>
            <td>{{ team.reg_score_difference }}</td>
            <td>{{ team.reg_bonus_points }}</td>
            <td>{{ team.reg_points }}</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>{{ '%0.2f'| format(team.reg_score_for / team.reg_played) }}</td>
            <td>{{ '%0.2f'| format(team.reg_score_against / team.reg_played) }}</td>
            <td>{{ '%+0.2f'| format(team.reg_score_difference / team.reg_played) }}</td>
            <td></td>
            <td></td>
        </tr>
    </tbody>
</table>

<h2>All Games</h2>

<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Date</th>
            <th>Time</th>
            <th>Season Stage</th>
            <th>Opponent</th>
            <th>Score</th>
            <th>Outcome</th>
            <th>Points</th>
        </tr>
    </thead>
    <tbody>

    {% for g in team.games %}
        <tr>
            <td>{{ g.game.id }}</td>
            <td>{{ g.game.starts_at.strftime('%d/%m/%Y') }}</td>
            <td>{{ g.game.starts_at.strftime('%H:%M') }}</td>
            <td>{{ g.game.season_stage }}</td>
            <td>
                <a href="team_{{ g.opponent.team.id }}.html">{{ g.opponent.team.name }}</a>
                {% if g.game.season_stage == 'regular' %}
                    <sup>({{ g.opponent.team.reg_position }})</sup>
                {% endif %}
            </td>
            <td>{{ g.score }} - {{ g.opponent.score }}</td>
            <td>{{ g.outcome }}</td>
            <td>
                {% if g.game.season_stage == 'regular' %}
                    {{ g.points }}
                {% endif %}
            </td>
        </tr>
    {% endfor %}

    </tbody>

</table>

