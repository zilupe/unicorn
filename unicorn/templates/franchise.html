
<div class="media mt-5">
    <div class="align-self-center mr-3">{{ franchise.logo_html|safe }}</div>
    <div class="media-body">
        <h1 class="display-3">
            {{ franchise.name }}
            {{ franchise.trophy_list_html|safe }}
        </h1>
    </div>
</div>


<h3 class="mt-5 mb-3">Summary</h3>

<table class="table">
    <thead>
        <tr>
            <th colspan="5">Seasons</th>
            <th colspan="3">Games</th>
        </tr>
        <tr>
            <th>Total</th>
            <th>Championship<br>Titles</th>
            <th>Regular Season<br>Winners</th>
            <th>First<br>Season</th>
            <th>Most Recent<br>Season</th>
            <th>Won</th>
            <th>Drawn</th>
            <th>Lost</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>{{ franchise.num_seasons }}</td>
            <td>{{ franchise.finals_num_winners }}</td>
            <td>{{ franchise.regular_num_winners }}</td>
            <td>{{ franchise.teams[0].season.simple_link|safe }}</td>
            <td>{{ franchise.teams[-1].season.simple_link|safe }}</td>
            <td>{{ franchise.outcomes['W'] }}</td>
            <td>{{ franchise.outcomes['D'] }}</td>
            <td>{{ franchise.outcomes['L'] }}</td>
        </tr>
    </tbody>
</table>

<h3 class="mt-5 mb-3">All Seasons</h3>

<table class="table table-hover table-bordered table-sm">
    <thead class="thead-light">
        <tr>
            <th rowspan="2">Season</th>
            <th rowspan="2">Team</th>
            <th colspan="7">Regular Season</th>
            <th colspan="6">Finals</th>
            <th colspan="5">Totals</th>
        </tr>
        <tr>
            <th>Record</th>
            <th>Points</th>
            <th>Win %</th>
            <th>For</th>
            <th>Against</th>
            <th>+/-</th>
            <th>Rank</th>

            <th>Record</th>
            <th>Win %</th>
            <th>For</th>
            <th>Against</th>
            <th>+/-</th>
            <th>Rank</th>

            <th>Record</th>
            <th>Win %</th>
            <th>For</th>
            <th>Against</th>
            <th>+/-</th>
        </tr>
    </thead>
    <tbody>
        {% for team in franchise.teams_sorted %}
            <tr>
                <td>{{ team.season.simple_link|safe }}</td>
                <td>{{ team.simple_link|safe }}</td>

                <td>{{ team.regular_record_str }}</td>
                <td>{{ '%.2f'| format(team.regular_points_avg) }}</td>
                <td style="text-align: right">{{ '%.1f'| format(team.regular_win_percentage) }}</td>
                <td style="text-align: right">{{ '%.1f'| format(team.regular_score_for_avg) }}</td>
                <td style="text-align: right">{{ '%.1f'| format(team.regular_score_against_avg) }}</td>
                <td style="text-align: right">{{ '%+.1f'| format(team.regular_score_difference_avg) }}</td>
                <td>{{ team.regular_rank }}</td>


                <td>{{ team.finals_record_str }}</td>
                <td style="text-align: right">{{ '%.1f'| format(team.finals_win_percentage) }}</td>
                <td style="text-align: right">{{ '%.1f'| format(team.finals_score_for_avg) }}</td>
                <td style="text-align: right">{{ '%.1f'| format(team.finals_score_against_avg) }}</td>
                <td style="text-align: right">{{ '%+.1f'| format(team.finals_score_difference_avg) }}</td>
                <td>{{ team.finals_rank }}</td>

                <td>{{ team.total_record_str }}</td>
                <td style="text-align: right">{{ '%.1f'| format(team.total_win_percentage) }}</td>
                <td style="text-align: right">{{ '%.1f'| format(team.total_score_for_avg) }}</td>
                <td style="text-align: right">{{ '%.1f'| format(team.total_score_against_avg) }}</td>
                <td style="text-align: right">{{ '%+.1f'| format(team.total_score_difference_avg) }}</td>
            </tr>
        {% endfor %}
    </tbody>
</table>
